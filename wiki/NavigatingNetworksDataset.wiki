#summary About the Navigating Networks Dataset

<h1>Navigating Networks Dataset</h1>

The sections below detail information about the dataset that is constructed by the RdfExport application for use by the [NetworkService Navigating Networks Service] by periodically exporting data from the AusStage relational database. 

<wiki:toc max_depth="2" />

= Export Steps =

The RdfExport application undertakes the following steps to build the dataset

 # [NavigatingNetworksDataset#Contributors An export of all contributor records]
 # [NavigatingNetworksDataset#Contributor_Functions An export of contributor functions]
 # [NavigatingNetworksDataset#Contributor_Relationships An export of contributor relationships]
 # [NavigatingNetworksDataset#Events An export of events and contributor relationships to events]
 # [NavigatingNetworksDataset#Contributor_Functions_at_Events An Export of functions that contributors have had when they've contributed to an event]

= RDF Values & Source Fields =

== Contributors ==

|| *Database Table* || *Database Field* || *RDF Field* || *Notes* || *Supports Goal* ||
|| contributor || contributorid || rdf:about || Encoded in the [NavigatingNetworksDataset#AusStage_URI_Schema AusStage URI Schema] || [NavigatingNetworksGoals All] ||
|| contributor || contirbutorid || foaf:page || As a persistent link to the Contributor page in AusStage || [NavigatingNetworksGoals All] ||
|| contributor || first_name || foaf:givenName ||  || [NavigatingNetworksGoals All] || 
|| contributor || last_name || foaf:familyName || ||  [NavigatingNetworksGoals All] ||
||  || first_name + " " + last_name || foaf:name || ||  [NavigatingNetworksGoals All] ||
|| contributor || gender || foaf:gender|| Where the field is "unknown" or blank no gender node is added || [NavigatingNetworksGoals#1.3_Faceted_browsing 1.3] ||
|| contributor || nationality || ausestage:nationality || Where the field is null, no nationality is added || [NavigatingNetworksGoals#1.3_Faceted_browsing 1.3] ||
|| || || ausestage:hasCollaboration || used to link a contributor with a collaboration object || [NavigatingNetworksGoals#1.1_Graphic_Interface 1.1] [NavigatingNetworksGoals#1.2_Time-slider 1.2] [NavigatingNetworksGoals#2.1_Key_collaborators 2.1] [NavigatingNetworksGoals#4.1_Contributor_Career_as_a_line_on_a_timeline 4.1] ||

=== SQL Code ==

{{{
SELECT c.contributorid, c.first_name, c.last_name, LOWER(g.gender), nationality
FROM contributor c, gendermenu g,
     (SELECT DISTINCT contributorid FROM conevlink WHERE eventid IS NOT NULL) ce
WHERE c.gender = g.genderid(+)
AND c.contributorid = ce.contributorid
ORDER BY contributorid
}}}

== Contributor Functions == 
|| *Database Table* || *Database Field* || *RDF Field* || *Notes* || *Supports Goal* ||
|| subquery || functions || ausestage:function ||  || [NavigatingNetworksGoals#1.3_Faceted_browsing 1.3] ||

=== SQL Code ===
{{{
SELECT c.contributorid, cp.preferredterm
FROM contributor c, contributorfunctpreferred cp, contfunctlink cl,
     (SELECT DISTINCT contributorid FROM conevlink WHERE eventid IS NOT NULL) ce
WHERE c.contributorid = cl.contributorid
AND cl.contributorfunctpreferredid = cp.contributorfunctpreferredid
AND c.contributorid = ce.contributorid
ORDER BY contributorid
}}}

== Contributor Relationships ==

|| *Database Table* || *Database Field* || *RDF Field* || *Notes* || *Supports Goal* ||
||  ||  || ausestage:collaboratorCount || Stores the number contributors a contributor has collaborated with || [NavigatingNetworksGoals#1.1_Graphic_Interface 1.1] ||
|| || || ausestage:collaboration || represents a collaboration relationship between to contributors || [NavigatingNetworksGoals#1.1_Graphic_Interface 1.1] [NavigatingNetworksGoals#1.2_Time-slider 1.2] [NavigatingNetworksGoals#2.1_Key_collaborators 2.1] [NavigatingNetworksGoals#4.1_Contributor_Career_as_a_line_on_a_timeline 4.1]||
|| || || ausestage:collaborator || stores the link to a contributor in this collaboration relationship || [NavigatingNetworksGoals#1.1_Graphic_Interface 1.1] || 
|| || || ausestage:collaborationCount || store the number of times these two collaborators have collaborated || [NavigatingNetworksGoals#1.1_Graphic_Interface 1.1] || 
|| || || ausestage:hasCollaboration || links a contributor to this collaboration || [NavigatingNetworksGoals#1.1_Graphic_Interface 1.1] || 

=== SQL Code ===
{{{
SELECT c.contributorid, c1.collaboratorid, COUNT(c.contributorid) as collaborations 
FROM conevlink c, (SELECT eventid, contributorid AS collaboratorid FROM conevlink WHERE contributorid IS NOT NULL AND eventid IS NOT NULL) c1 
WHERE c.eventid = c1.eventid 
AND c.contributorid IS NOT NULL 
GROUP BY c.contributorid, c1.collaboratorid 
ORDER BY contributorid
}}}

== Events == 

|| *Database Table* || *Database Field* || *RDF Field* || *Notes* || *Supports Goal* ||
|| events || eventid || rdf:about || Encoded in the [NavigatingNetworksDataset#AusStage_URI_Schema AusStage URI Schema] || [NavigatingNetworksGoals All] ||
|| events || event_name || dcterms:title || || [NavigatingNetworksGoals All] ||
|| events || eventid || dcterms:identifier || As a persistent link to the Event page in AusStage || [NavigatingNetworksGoals All] ||
|| contributor || contributorid || event:agent || Encoded in the [NavigatingNetworksDataset#AusStage_URI_Schema AusStage URI Schema] ||  [NavigatingNetworksGoals#1.1_Graphic_Interface 1.1] [NavigatingNetworksGoals#2.1_Key_collaborators 2.1] ||
|| events || eventid || event:isAgentIn || Associated with a contributor not an event || [NavigatingNetworksGoals#1.1_Graphic_Interface 1.1] [NavigatingNetworksGoals#2.1_Key_collaborators 2.1] ||
|| events || start date fields || event:time/time:interval/tl.beginsAtDateTime || Encoded as a valid xsd:date value || [NavigatingNetworksGoals#1.2_Time-slider 1.2] ||
|| events || last date fields || event:time/time:interval/tl.endsAtDateTime || Encoded as a valid xsd:date value || [NavigatingNetworksGoals#1.2_Time-slider 1.2] ||

=== SQL Code ===
{{{
SELECT DISTINCT e.eventid, e.event_name, c.contributorid, 
                e.yyyyfirst_date, e.mmfirst_date, e.ddfirst_date, 
                e.yyyylast_date, e.mmlast_date, e.ddlast_date 
FROM events e, conevlink c  
WHERE e.eventid = c.eventid 
AND e.eventid IS NOT NULL 
AND c.contributorid IS NOT NULL 
ORDER BY e.eventid
}}}

== Contributor Functions at Events ==

|| *Database Table* || *Database Field* || *RDF Field* || *Notes* || *Supports Goal* ||
|| || || ausestage:functionAtEvent || lists the function that a contributor had when contributing to an event || [NavigatingNetworksGoals#1.1_Graphic_Interface 1.1] [NavigatingNetworksGoals#2.1_Key_collaborators 2.1] [NavigatingNetworksGoals#1.3_Faceted_browsing 1.3]||
|| eventid || conevlink || ausestage:atEvent || link the fuctionAtEvent object to the event || ||
|| contributorfunctpreferred || preferredterm || ausestage:function || list the function that the contributor held || ||
|| conevlink || contributorid || ausestage:undertookFunction || link the contributor to this functionAtEvent object || ||


=== SQL Code ===
{{{
SELECT cl.contributorid, cl.eventid, cfp.preferredterm 
FROM conevlink cl, contributorfunctpreferred cfp 
WHERE cl.eventid IS NOT NULL 
AND cl.contributorid IS NOT NULL 
AND cl.function = cfp.contributorfunctpreferredid 
ORDER BY contributorid
}}}

= RDF Ontologies = 

== In Use == 

|| *Ontology Name* || *Namespace* || *More Information* || 
|| FOAF - Friend of a Friend|| foaf || http://www.foaf-project.org/ ||
|| Event|| event || http://motools.sourceforge.net/event/event.html ||
|| DCMI Metadata Terms|| dcterms || http://dublincore.org/documents/dcmi-terms/ ||
|| Timeline || tl || http://motools.sourceforge.net/timeline/timeline.html ||
|| OWL-Time || time || http://www.w3.org/TR/owl-time/ || 
|| Aus-e-Stage || ausestage || AuseStageOntology ||

== Aus-e-Stage Ontology ==

To expedite the construction of the dataset an Aus-e-Stage ontology is used. It is important to note that this ontology does not pre-empt any work conducted under the AusStage phase 4 project. Once the flattening of the AusStage dataset has occurred and the ontologies constructed have been finalised, the ontology used for this dataset should be retired and replaced with the output of the AusStage phase 4 project.

Details of the ontology are available on the AuseStageOntology page.

== Planned for Use ==

|| *Ontology Name* || *Namespace* || *More Information* || *Notes ||


= !AusStage Unique Id Encoding Scheme =
<wiki:comment> Keep this list in sync with the RdfExportMoreInfo page</wiki:comment>

To assist in the clarity of !AusStage unique identifiers in the dataset the following encoding scheme is used:

 * A unique identifier is prefixed with _ausstage:_
 * If the unique identifier is for a contributor _c:_ is then added
 * If the unique identifier is for an event _e:_ is then added

The [http://code.google.com/p/aus-e-stage/source/browse/trunk/rdf-export/src/au/edu/ausstage/vocabularies/AusStageURI.java AusStageURI class] in the au.edu.ausstage.vocabularies package provides convenience methods for encoding identifiers, and converting identifiers into the persistent URLs used by the !AusStage website

The class also provides functionality that encodes a unique identifier for the collaboration objects in the NavigatingNetworksDataset the identifier takes the form:

ausstage:rel:id1-id2

Where _id1_ and _id2_ are contributor ids. The URI is resolved to a URL in the Navigating Networks site that can provide additional information about the collaboration relationship. 

= Additional Information =

 * http://en.wikipedia.org/wiki/Resource_Description_Framework