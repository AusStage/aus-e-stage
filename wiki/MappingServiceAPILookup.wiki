Mapping Service API - Lookup

<h1>Lookup API</h1>

Components of the MappingService are exposed as an [http://en.wikipedia.org/wiki/Application_programming_interface API]. The intention of the API is to make it easier for developers to customise their own front end interfaces and to split the work equitably amongst the software engineers working on the Aus-e-Stage project. 

The Lookup API exposes methods that can be used to lookup a variety of data elements. 

_Note 1: During development of the service revisions the API will use a temporary URL which will be changed once the service revisions are complete._


== Base URL ==

http://beta.ausstage.edu.au/mapping2/lookup?

Combining the base URL with the parameters outlined below constructs a call to the API.

== Parameters ==

|| *Name* || *Possible Values* || *Optional* || *Default* ||
|| task   || state-list, suburb-list, suburb-venue-list || No || ||
|| id     || unique identifier use with the lookup task || No* || ||
|| format || json || Yes || json ||
|| callback || function name to use for a JSONP request || Yes || ||

id* is not required for a state-list lookup

=== task ===
The type of search task to undertake for example a search for organisation or contributor data

==== state-list ===

A list of objects that can be used to construct UI elements that allow the user to select a state or other geographic area in which to narrow their browse activity

==== suburb-list ====

A list of suburbs that are located in the state as identified by the id parameter.

_Note:_ The id parameter is only valid if it contains an id for one of the 8 Australian states or territories.

==== suburb-venue-list ====

A list of venues that are located in the state and suburb combination as identified by the id parameter

_Note:_ The id parameter is expected to be encoded as follows state-id|suburb name

=== id ===

The unique identifier used to lookup the data as identified by the task parameter

=== format ===
The type of data format used to prepare the search results. At the time of writing only [http://en.wikipedia.org/wiki/JSON JSON] is a supported format

=== callback ===
The name of the callback function used when a request is made for JSONP encoded data

== Sample Output ==

=== state-list ===
{{{
[ { "id" : 99,
    "name" : "Australia"
  },
  { "id" : 7,
    "name" : "Australian Capital Territory"
  },
  { "id" : 3,
    "name" : "New South Wales"
  },
  { "id" : 8,
    "name" : "Northern Territory"
  },
  { "id" : 4,
    "name" : "Queensland"
  },
  { "id" : 1,
    "name" : "South Australia"
  },
  { "id" : 5,
    "name" : "Tasmania"
  },
  { "id" : 6,
    "name" : "Victoria"
  },
  { "id" : 2,
    "name" : "Western Australia"
  },
  { "id" : 999,
    "name" : "International"
  }
]
}}}

=== suburb-list ===
{{{
[ { "mapVenueCount" : "3",
    "name" : "Aberfoyle Park",
    "venueCount" : "3"
  },
  { "mapVenueCount" : "331",
    "name" : "Adelaide",
    "venueCount" : "359"
  },
  { "mapVenueCount" : "1",
    "name" : "Adelaide University, North Terrace",
    "venueCount" : "1"
  },
  { "mapVenueCount" : "1",
    "name" : "Alberton ",
    "venueCount" : "1"
  },
  { "mapVenueCount" : "1",
    "name" : "Aldinga Beach",
    "venueCount" : "1"
  },
  { "mapVenueCount" : "1",
    "name" : "Allenby Gardens",
    "venueCount" : "1"
  },
...
  { "mapVenueCount" : "4",
    "name" : "Woodville",
    "venueCount" : "4"
  },
  { "mapVenueCount" : "1",
    "name" : "Wudinna",
    "venueCount" : "1"
  },
  { "mapVenueCount" : "1",
    "name" : "Wynn Vale",
    "venueCount" : "1"
  },
  { "mapVenueCount" : "1",
    "name" : "Yorketown",
    "venueCount" : "1"
  }
]
}}}

=== suburb-venue-list ===
{{{
 { "eventCount" : "1",
    "id" : "3793",
    "mapEventCount" : "1",
    "name" : "109 South Terrace",
    "venueUrl" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=3793"
  },
  { "eventCount" : "15",
    "id" : "4817",
    "mapEventCount" : "15",
    "name" : "1st Site Club",
    "venueUrl" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=4817"
  },
  { "eventCount" : "1",
    "id" : "3990",
    "mapEventCount" : "1",
    "name" : "256 Rundle Street",
    "venueUrl" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=3990"
  },
  { "eventCount" : "1",
    "id" : "10592",
    "mapEventCount" : "1",
    "name" : "39a Rundle Street",
    "venueUrl" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=10592"
  },
  { "eventCount" : "3",
    "id" : "10436",
    "mapEventCount" : "3",
    "name" : "AIT Arts (Acting Studio)",
    "venueUrl" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=10436"
  },
...
  { "eventCount" : "1",
    "id" : "3791",
    "mapEventCount" : "0",
    "name" : "Wills Court",
    "venueUrl" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=3791"
  },
  { "eventCount" : "1",
    "id" : "2317",
    "mapEventCount" : "1",
    "name" : "World Dance Centre",
    "venueUrl" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=2317"
  },
  { "eventCount" : "13",
    "id" : "2948",
    "mapEventCount" : "13",
    "name" : "Worldsend Hotel",
    "venueUrl" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=2948"
  },
  { "eventCount" : "2",
    "id" : "2994",
    "mapEventCount" : "2",
    "name" : "Wyatt Hall",
    "venueUrl" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=2994"
  },
  { "eventCount" : "3",
    "id" : "3917",
    "mapEventCount" : "3",
    "name" : "X Space",
    "venueUrl" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=3917"
  }
]
}}}