#summary Mapping Service API - Lookup

<h1>Lookup API</h1>

Components of the MappingService are exposed as an [http://en.wikipedia.org/wiki/Application_programming_interface API]. The intention of the API is to make it easier for developers to customise their own front end interfaces and to split the work equitably amongst the software engineers working on the Aus-e-Stage project. 

The Lookup API exposes methods that can be used to lookup a variety of data elements. 

_Note 1: During development of the service revisions the API will use a temporary URL which will be changed once the service revisions are complete._

<wiki:toc max_depth="3" />

= Base URL =

http://beta.ausstage.edu.au/mapping2/lookup?

Combining the base URL with the parameters outlined below constructs a call to the API.

= Parameters =

|| *Name* || *Possible Values* || *Optional* || *Default* ||
|| task   || state-list, suburb-list, suburb-venue-list, organisation, contributor, venue, map-colour-list || No || ||
|| id     || unique identifier use with the lookup task || No || ||
|| format || json || Yes || json ||
|| callback || function name to use for a JSONP request || Yes || ||

_Note:_ id is not required for a state-list or map-colour-list lookup task

== task ==
The type of lookup task to undertake for example a lookup of organisation or contributor data

=== state-list ===

A list of objects that can be used to construct UI elements that allow the user to select a state or other geographic area in which to narrow their browse activity

=== suburb-list ===

A list of objects that can be used to construct UI elements that allow the user to select one of the suburbs that are located in the state or country as identified by the id parameter.

=== suburb-venue-list ===

A list of venues that are located in the state and suburb combination as identified by the id parameter

=== organisation ===

The details of an organisation

=== contributor ===

The details for a contributor

=== venue ===

The details for a venue

== id ==

The unique identifier used to lookup the data as identified by the task parameter

=== State identifiers ===
Valid State Identifiers are:

|| *id* || *State* ||
|| 1 || SA ||
|| 2 || WA ||
|| 3 || NSW ||
|| 4 || QLD ||
|| 5 || TAS ||
|| 6 || VIC ||
|| 7 || ACT ||
|| 8 || NT ||

=== Suburb identifiers ===

The id parameter is expected to be encoded as follows:

state-id_suburb-name

For example:

1_Adelaide

== format ==
The type of data format used to prepare the search results. At the time of writing only [http://en.wikipedia.org/wiki/JSON JSON] is a supported format

== callback ==
The name of the callback function used when a request is made for JSONP encoded data

= Sample Output =

== state-list ==

Retrieve a list of state objects.

URL: http://beta.ausstage.edu.au/mapping2/lookup?task=state-list

{{{
[ { "id" : 99,
    "name" : "Australia"
  },
  { "id" : 7,
    "name" : "Australian Capital Territory"
  },
  { "id" : 3,
    "name" : "New South Wales"
  },
  { "id" : 8,
    "name" : "Northern Territory"
  },
  { "id" : 4,
    "name" : "Queensland"
  },
  { "id" : 1,
    "name" : "South Australia"
  },
  { "id" : 5,
    "name" : "Tasmania"
  },
  { "id" : 6,
    "name" : "Victoria"
  },
  { "id" : 2,
    "name" : "Western Australia"
  },
  { "id" : 999,
    "name" : "International"
  },
  { "id" : "999-240",
    "name" : "America"
  },
  { "id" : "999-13",
    "name" : "Austria"
  },
  { "id" : "999-20",
    "name" : "Belgium"
  },
  { "id" : "999-29",
    "name" : "Brazil"
  },
  { "id" : "999-36",
    "name" : "Canada"
  },
  ...
  { "id" : "999-220",
    "name" : "Venezuela"
  },
  { "id" : "999-231",
    "name" : "Wales"
  }
]
}}}

== suburb-list ==

Retrieve a list of suburb objects.

URL: http://beta.ausstage.edu.au/mapping2/lookup?task=suburb-list&id=1

The field "mapVenueCount" indicates the number of venues that can be put on a map. The field "venueCount" indicates the number of venues in the suburb

{{{
[ { "mapVenueCount" : "3",
    "name" : "Aberfoyle Park",
    "venueCount" : "3"
  },
  { "mapVenueCount" : "332",
    "name" : "Adelaide",
    "venueCount" : "360"
  },
  { "mapVenueCount" : "1",
    "name" : "Adelaide University, North Terrace",
    "venueCount" : "1"
  },
  { "mapVenueCount" : "1",
    "name" : "Alberton ",
    "venueCount" : "1"
  },
  { "mapVenueCount" : "1",
    "name" : "Aldinga Beach",
    "venueCount" : "1"
  },
...
{ "mapVenueCount" : "1",
    "name" : "Wynn Vale",
    "venueCount" : "1"
  },
  { "mapVenueCount" : "1",
    "name" : "Yorketown",
    "venueCount" : "1"
  }
]
}}}

== suburb-venue-list ==

Retrieve a list of venues in Adelaide, SA:

URL: http://beta.ausstage.edu.au/mapping2/lookup?task=suburb-venue-list&id=1_Adelaide

{{{
[ { "eventCount" : "1",
    "id" : "3793",
    "mapEventCount" : "1",
    "name" : "109 South Terrace",
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=3793"
  },
  { "eventCount" : "15",
    "id" : "4817",
    "mapEventCount" : "15",
    "name" : "1st Site Club",
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=4817"
  },
  { "eventCount" : "1",
    "id" : "3990",
    "mapEventCount" : "1",
    "name" : "256 Rundle Street",
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=3990"
  },
  { "eventCount" : "1",
    "id" : "10592",
    "mapEventCount" : "1",
    "name" : "39a Rundle Street",
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=10592"
  },
  { "eventCount" : "3",
    "id" : "10436",
    "mapEventCount" : "3",
    "name" : "AIT Arts (Acting Studio)",
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=10436"
  },
  { "eventCount" : "25",
    "id" : "4193",
    "mapEventCount" : "25",
    "name" : "AMP Theatre",
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=4193"
  },
...
  { "eventCount" : "2",
    "id" : "2994",
    "mapEventCount" : "2",
    "name" : "Wyatt Hall",
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=2994"
  },
  { "eventCount" : "3",
    "id" : "3917",
    "mapEventCount" : "3",
    "name" : "X Space",
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=3917"
  }
]
}}}

== organisation ==

Lookup information on the organisation with id: 102

URL: http://beta.ausstage.edu.au/mapping2/lookup?task=organisation&id=102

{{{
[ { "id" : "102",
    "mapEventCount" : 303,
    "name" : "Australian Dance Theatre",
    "totalEventCount" : 408,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_org_id=102"
  } ]
}}}

== contributor ==

Lookup information on the contributor with id: 482

http://beta.ausstage.edu.au/mapping2/lookup?task=contributor&id=482

[ { "firstName" : "Geoffrey",
    "id" : "482",
    "lastName" : "Rush",
    "mapEventCount" : 75,
    "totalEventCount" : 88,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_contrib_id=482"
  } ]

== venue ==

Lookup information on the venue with id: 815

URL: http://beta.ausstage.edu.au/mapping2/lookup?task=venue&id=815

{{{
[ { "id" : "815",
    "latitude" : "-34.92832",
    "longitude" : "138.597007",
    "name" : "Her Majesty's Theatre",
    "postcode" : "5000",
    "street" : "58 Grote Street",
    "suburb" : "Adelaide",
    "totalEventCount" : 314,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=815"
  } ]
}}}