#summary How to prepare an ABS Overlay.

== Introduction ==

In [http://code.google.com/p/aus-e-stage/wiki/MapInfoToKML MapInfo To KML] article, we introduced the procedure to construct map overlays in a KML format using ABS geographic information. The popup infowindow of the map overlay includes the information about State Code, Local Government Code and Local Government Name. In this article, we will introduce how to add more information on the infowindow such as ABS Regional Profile URL, how to style infowindow using !BalloonStyle template, HTML and CSS and how to highlight polygons.


== Adding Custom Data ==

`<ExtendedData>` element in KML provides the mechanism to associate untyped name/value pairs with a given feature (e.g. Placemark). In the following KML excerpt, *!State_Code* and *LGA_Code* are attached to the Placemark through `<Data>` and `<value>` pairs. For more details about mechanisms to add custom data, please refer to [http://code.google.com/apis/kml/documentation/extendeddata.html Google web site].
{{{
    <Placemark>
         <name>Adelaide (C)</name>
         <styleUrl>#sharedStyle</styleUrl>
         <ExtendedData>
            <Data name="State_Code">
               <value>4</value>
            </Data>
            <Data name="LGA_Code">
               <value>40070</value>
            </Data>
         </ExtendedData>
        <Polygon>…..</Polygon>
    </Placemark>

}}}

        `<KML excerpt 1>`

== Balloon Style ==

Descriptive balloons, so-called infowindows are attached to Placemarks in Google Earth and displayed when clicked. By default, a balloon in Google Earth only displays placemark `<name>`, `<description>` element and links for driving direction. `<BalloonStyle>` element provides a mechanism to customise the balloon such as background color, text color etc. as shown in the following KML excerpt. 

{{{
<style id=”sharedStyle”>
  <BalloonStyle>
  <!-- specific to BalloonStyle -->
    <bgColor>ffffffff</bgColor>            <!-- kml:color -->
    <textColor>ff000000</textColor>        <!-- kml:color --> 
    <text>		                  <!-- string -->
    <![CDATA[<html>
    <head>
      <link rel="stylesheet" type="text/css" href="style/infowindow-style.css" /> 
    </head>
    <body>
      <b>$[LGA_NAME_2010]</b>
      <table class="infowindow">

        <tr class="odd">
          <td class="label">State Code</td>
          <td class="text">$[State_Code]</td>
        </tr>

        <tr class="even">
          <td class="label">Link</td>
          <td class="text"><a href="http://www.abs.gov.au/ausstats/abs@nrp.nsf/lookup/LGA$[LGA_Code]Main+Features12005-2009">ABS Profile</a></td>
        </tr>
      </table>
    </body>
    </html>]]>
    </text>
 </BalloonStyle>
</style>
}}}
    
      `<KML excerpt 2>`





As we can see from above KML excerpt, `<text>` element contains the content displayed in the balloon. HTML code can be embedded inside it through the CDATA brackets. Therefore the content in `<text>` element can also be styled using external Cascading Style Sheets (CSS) through `<link>` element. In the above example, we use an external CSS file (style/infowindow-style.css) to format the table in HTML. For more details about `<BalloonStyle>`, please refer to [http://code.google.com/apis/kml/documentation/kmlreference.html#balloonstyle KML reference].







Add your content here.  Format your content with:
  * Text in *bold* or _italic_
  * Headings, paragraphs, and lists
  * Automatic links to other wiki pages