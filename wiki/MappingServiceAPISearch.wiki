#summary Mapping Service API - Search

<h1>Search API</h1>

Components of the MappingService are exposed as an [http://en.wikipedia.org/wiki/Application_programming_interface API]. The intention of the API is to make it easier for developers to customise their own front end interfaces and to split the work equitably amongst the software engineers working on the Aus-e-Stage project. 

The Search API exposes methods and data elements that can be used to search for contributors, organisations, etc. 

_Note 1: During development of the service revisions the API will use a temporary URL which will be changed once the service revisions are complete._

== Base URL ==

http://beta.ausstage.edu.au/mapping2/search?

Combining the base URL with the parameters outlined below constructs a call to the API.

== Parameters ==

|| *Name* || *Possible Values* || *Optional* || *Default* ||
|| task   || organisation, contributor, venue || No || ||
|| type   || name, id     || No || ||
|| query  || the search query || No || ||
|| format || json || Yes || json ||
|| limit  || an integer between 5 and 25 || Yes || 5 ||

=== task ===
The type of search task to undertake for example a search for organisation or contributor data

=== type ===
The type of search to undertake either by name or by id number

=== query ===
The search query, either a list of search terms or the id number to search for

_Note:_ If a name search is undertaken the query is sanitised by:

 * removing white-space at the start and end of the query
 * remove all occurrences of the words and, or, not
 * removing all punctuation characters
 * adding the keyword "and" between each remaining word

=== format ===
The type of data format used to prepare the search results. At the time of writing only [http://en.wikipedia.org/wiki/JSON JSON] is a supported format

== limit ===
The maximum number of result records to be returned

== Sample Output ==

The search result is formatted as a JSON array with zero, one, or more result objects. 

=== Organisation ID Search ===

{{{
[
 {
  "id":"102",
  "totalEventCount":435,
  "mapEventCount":284,
  "name":"Australian Dance Theatre",
  "url":"http:\/\/www.ausstage.edu.au\/indexdrilldown.jsp?xcid=59&amp;f_org_id=102"
 }
]
}}}

=== Organisation Name Search ===
{{{
[ { "id" : "102",
    "mapEventCount" : 264,
    "name" : "Australian Dance Theatre",
    "totalEventCount" : 408,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_org_id=102"
  },
  { "id" : "32347",
    "mapEventCount" : 1,
    "name" : "Australian Dance Theatre Academy",
    "totalEventCount" : 1,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_org_id=32347"
  },
  { "id" : "11898",
    "mapEventCount" : 49,
    "name" : "Meryl Tankard Australian Dance Theatre",
    "totalEventCount" : 98,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_org_id=11898"
  }
]
}}}

=== Contributor ID Search ===
{{{
[ { "firstName" : "Brad",
    "id" : "414321",
    "lastName" : "Williams",
    "mapEventCount" : 13,
    "totalEventCount" : 13,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_contrib_id=414321"
  } ]

}}}

=== Contributor Name Search ===
{{{
[ { "firstName" : "Brad",
    "id" : "255501",
    "lastName" : "Anderson",
    "mapEventCount" : 0,
    "totalEventCount" : 1,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_contrib_id=255501"
  },
  { "firstName" : "Brad",
    "id" : "229139",
    "lastName" : "Ashwood",
    "mapEventCount" : 3,
    "totalEventCount" : 4,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_contrib_id=229139"
  },
  { "firstName" : "Brad",
    "id" : "258120",
    "lastName" : "Bennett",
    "mapEventCount" : 3,
    "totalEventCount" : 4,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_contrib_id=258120"
  },
  { "firstName" : "Brad",
    "id" : "415144",
    "lastName" : "Bridger",
    "mapEventCount" : 0,
    "totalEventCount" : 1,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_contrib_id=415144"
  },
  { "firstName" : "Brad",
    "id" : "238884",
    "lastName" : "Buckingham",
    "mapEventCount" : 0,
    "totalEventCount" : 1,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_contrib_id=238884"
  }
]
}}}

=== Venue ID Search ===
{{{
[ { "id" : "815",
    "latitude" : "-34.92832",
    "longitude" : "138.597007",
    "name" : "Her Majesty's Theatre",
    "postcode" : "5000",
    "street" : "58 Grote Street",
    "suburb" : "Adelaide",
    "totalEventCount" : 312,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=815"
  } ]
}}}

=== Venue Name Search ===
{{{
[ { "id" : "11093",
    "latitude" : "-37.810916",
    "longitude" : "144.969755",
    "name" : "Alexandra Theatre",
    "postcode" : "3000",
    "street" : "219 Exhibition Street",
    "suburb" : "Melbourne",
    "totalEventCount" : 5,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=11093"
  },
  { "id" : "2778",
    "latitude" : "-27.469146",
    "longitude" : "153.025862",
    "name" : "Her Majesty's Theatre",
    "postcode" : "4000",
    "street" : "197 Queen Street",
    "suburb" : "Brisbane",
    "totalEventCount" : 121,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=2778"
  },
  { "id" : "76",
    "latitude" : "-37.810916",
    "longitude" : "144.969755",
    "name" : "Her Majesty's Theatre",
    "postcode" : "3000",
    "street" : "219 Exhibition Street",
    "suburb" : "Melbourne",
    "totalEventCount" : 186,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=76"
  },
  { "id" : "815",
    "latitude" : "-34.92832",
    "longitude" : "138.597007",
    "name" : "Her Majesty's Theatre",
    "postcode" : "5000",
    "street" : "58 Grote Street",
    "suburb" : "Adelaide",
    "totalEventCount" : 313,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=815"
  },
  { "id" : "13496",
    "latitude" : null,
    "longitude" : null,
    "name" : "Her Majesty's Theatre",
    "postcode" : null,
    "street" : null,
    "suburb" : "Haymarket",
    "totalEventCount" : 2,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=13496"
  },
  ...
  { "id" : "3853",
    "latitude" : "-34.92832",
    "longitude" : "138.597007",
    "name" : "Prince of Wales Theatre",
    "postcode" : "5000",
    "street" : "58 Grote Street",
    "suburb" : "Adelaide",
    "totalEventCount" : 3,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=3853"
  },
  { "id" : "2965",
    "latitude" : "-34.92832",
    "longitude" : "138.597007",
    "name" : "Tivoli Theatre",
    "postcode" : "5000",
    "street" : "58 Grote Street",
    "suburb" : "Adelaide",
    "totalEventCount" : 68,
    "url" : "http://www.ausstage.edu.au/indexdrilldown.jsp?xcid=59&amp;f_venue_id=2965"
  }
]
}}}